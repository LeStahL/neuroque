# Endeavor by Team210 - 64k intro by Team210 at Revision 2k19
# Copyright (C) 2018  Alexander Kraus <nr4@z10.info>
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <https://www.gnu.org/licenses/>.

import numpy

# Specification of data:
# line: [x1, y1, x2, y2 ]
# smooth line: [x1, y1, x2, y2 ]

# Glyph data
def glyph(char):
    pi = numpy.pi;
    lines = []
    smoothlines = []
    lines = []
    if char == 'a':
        lines = [[-.65,-.75,-.65,.75],[.65,0.,.65,.75],[-.65,.75,.65,.75],[-.65,0.,.65,0.]]
        smoothlines = [[-.75,-.75,-.75,0.],[.75,0.,.75,-.75]]
    elif char == 'b':
        lines = [[-.75,.75,.65,.75],[-.75,-.75,.75,-.75],[-.75,0.,.75,0.],[-.75,-.75,-.75,.75],[.65,0.,.65,.75],[.75,0.,.75,-.75]]
        smoothlines = [[-.65,-.1,-.65,-.65]]
    elif char == 'c':
        lines = [[-.75,-.75,.75,-.75],[-.75,.75,.75,.75],[-.75,-.75,-.75,.75],[.75,.35,.75,.75],[.75,-.35,.75,-.75]]
        smoothlines = [[-.65,-.1,-.65,-.65]]
    elif char == 'd':
        lines = [[-.75,-.75,.75,-.75],[-.75,.75,.75,.75],[-.75,-.75,-.75,.75],[.75,-.75,.75,.75]]
        smoothlines = [[-.65,-.1,-.65,-.65]]
    elif char == 'e':
        lines = [[-.75,-.75,-.75,.75],[-.75,-.75,.65,-.75],[-.75,.75,.65,.75],[-.75,0.,.65,0.]]
        smoothlines = [[-.65,-.1,-.65,-.65]]
    elif char == 'f':
        lines = [[-.75,-.75,-.75,.75],[-.75,.75,.65,.75],[-.75,0.,.65,0.]]
        smoothlines = [[-.65,-.1,-.65,-.75]]
    elif char == 'g':
        lines = [[-.75,-.75,.75,-.75],[-.75,.75,.75,.75],[-.75,-.75,-.75,.75],[.75,.5,.75,.75],[.75,0.,.75,-.75],[.75,0.,.25,0.]]
        smoothlines = [[-.65,-.1,-.65,-.65]]
    elif char == 'h':
        lines = [[-.75,-.75,-.75,.75],[.75,-.75,.75,.75],[-.75,0.,.65,0.]]
        smoothlines = [[-.65,-.1,-.65,-.75]]
    elif char == 'i':
        lines = [[0.,-.75,0.,.75]]
        smoothlines = [[.1,-.75,.1,0.]]
    elif char == 'j':
        lines = [[.65,-.75,.65,.75],[-.75,-.75,.75,-.75],[-.75,-.75,-.75,-.35]]
        smoothlines = [[.75,-.65,.75,0.]]
    elif char == 'k':
        lines = [[-.75,0.,.75,0.],[-.75,-.75,-.75,.75],[.65,0.,.65,.75],[.75,0.,.75,-.75]]
        smoothlines = [[-.65,-.1,-.65,-.75]]
    elif char == 'l':
        lines = [[-.75,-.75,-.75,.75],[-.75,-.75,.65,-.75]]
        smoothlines = [[-.65,-.1,-.65,-.65]]
    elif char == 'm':
        lines = [[-.75,.75,.75,.75],[-.75,-.75,-.75,.75],[.75,-.75,.75,.75],[0.,-.75,0.,.75]]
        smoothlines = [[-.65,-.1,-.65,-.75]]
    elif char == 'n':
        lines = [[-.75,.75,.75,.75],[-.75,-.75,-.75,.75],[.75,-.75,.75,.75]]
        smoothlines = [[-.65,-.1,-.65,-.75]]
    elif char == 'o':
        lines = [[-.75,-.75,.75,-.75],[-.75,.75,.75,.75],[-.75,-.75,-.75,.75],[.75,-.75,.75,.75]]
        smoothlines = [[.65,.35,.65,.65]]
    elif char == 'p':
        lines = [[-.75,.75,.65,.75],[-.75,0.,.65,0.],[-.75,-.75,-.75,.75],[.65,0.,.65,.75]]
        smoothlines = [[-.65,-.1,-.65,-.75]]
    elif char == 'q':
        lines = [[-.75,-.75,.75,-.75],[-.75,.75,.75,.75],[-.75,-.75,-.75,.75],[.75,-.75,.75,.75]]
        smoothlines = [[-.0,-.65,.65,-.65]]
    elif char == 'r':
        lines = [[-.75,.75,.65,.75],[-.75,0.,.75,0.],[-.75,-.75,-.75,.75],[.65,0.,.65,.75],[.75,0.,.75,-.75]]
        smoothlines = [[-.65,-.1,-.65,-.75]]
    elif char == 's':
        lines = [[-.75,-.75,.75,-.75],[-.75,.75,.75,.75],[-.75,0.,-.75,.75],[.75,.5,.75,.75],[-.75,-.5,-.75,-.75],[.75,0.,.75,-.75],[-.75,0.,.75,0.]]
        smoothlines = [[.65,-.1,.65,-.65]]
    elif char == 't':
        lines = [[-.75,.75,.75,.75],[0.,-.75,0.,.75]]
        smoothlines = [[.1,-.75,.1,0.]]
    elif char == 'u':
        lines = [[-.75,-.75,.75,-.75],[-.75,-.75,-.75,.75],[.75,-.75,.75,.75]]
        smoothlines = [[-.65,-.1,-.65,-.65]]
    elif char == 'v':
        lines = [[-.65,.75,-.65,-.75],[.65,0.,.65,-.75],[-.65,-.75,.65,-.75]]
        smoothlines = [[-.75,.1,-.75,.75],[.75,.1,.75,.75]]
    elif char == 'w':
        lines = [[-.75,-.75,.75,-.75],[-.75,-.75,-.75,.75],[.75,-.75,.75,.75],[0.,-.75,0.,.75]]
        smoothlines = [[-.65,-.1,-.65,-.65]]
    elif char == 'x':
        lines = [[-.75,-.75,.75,.75],[-.75,.75,.75,-.75]]
    elif char == 'y':
        lines = [[0.,-.75,0.,0.],[-.75,0.,.75,0.],[-.75,0.,-.75,.75],[.75,0.,.75,.75]]
        smoothlines = [[.1,-.75,.1,-.1]]
    elif char == 'z':
        lines = [[-.75,-.75,.75,-.75],[-.75,.75,.75,.75],[.75,.25,.75,.75],[-.75,.5,-.75,.75],[.75,-.5,.75,-.75],[-.75,-.25,-.75,-.75],[-.75,-.25,.75,.25]]
        smoothlines = [[-.65,-.65,-.65,-.35]]
    elif char == '1':
        lines = [[0.,-.75,0.,.75]]
        smoothlines = [[-.1,-.75,-.1,0.]]
    elif char == '2':
        lines = [[-.75,-.75,.75,-.75],[-.75,.75,.75,.75],[.75,.0,.75,.75],[-.75,.5,-.75,.75],[-.75,.0,-.75,-.75],[-.75,.0,.75,.0]]
        smoothlines = [[-.65,-.65,-.65,-.1]]
    elif char == '3':
        lines = [[-.75,-.75,.65,-.75],[-.75,-.75,-.75,-.5],[-.75,.75,.65,.75],[-.75,.75,-.75,.5],[.65,-.75,.65,.75],[-.25,0.,.65,0.]]
        smoothlines = [[.75,-.75,.75,-.05]]
    elif char == '4':
        lines = [[.55,-.75,.55,.75],[-.75,.0,.75,.0],[-.75,.0,-.75,.75]]
        smoothlines = [[.45,-.75,.45,-.1]]
    elif char == '5':
        lines = [[-.75,.75,.75,.75],[-.75,-.75,.75,-.75],[.75,.0,.75,-.75],[-.75,-.5,-.75,-.75],[-.75,.0,-.75,.75],[-.75,.0,.75,.0]]
        smoothlines = [[.65,-.65,.65,-.1]]
    elif char == '6':
        lines = [[-.75,.75,.75,.75],[-.75,-.75,.75,-.75],[.75,.0,.75,-.75],[-.75,-.75,-.75,.75],[-.75,.0,.75,.0],[.75,.5,.75,.75]]
        smoothlines = [[.65,-.65,.65,-.1]]
    elif char == '7':
        lines = [[.75,-.75,.75,.75],[.75,.75,-.75,.75],[.75,.0,.25,.0]]
        smoothlines = [[.65,-.75,.65,-.1]]
    elif char == '8':
        lines = [[-.65,.75,.65,.75],[-.75,-.75,.75,-.75],[-.75,0.,.75,0.],[-.75,-.75,-.75,.0],[.65,0.,.65,.75],[-.65,0.,-.65,.75],[.75,0.,.75,-.75]]
        smoothlines = [[.65,-.1,.65,-.65]]
    elif char == '9':
        lines = [[.75,.75,-.65,.75],[.75,0.,-.65,0.],[.75,-.75,.75,.75],[-.65,0.,-.65,.75]]
        smoothlines = [[.65,-.1,.65,-.75]]
    elif char == '0':
        lines = [[-.75,-.75,.75,-.75],[-.75,.75,.75,.75],[-.75,-.75,-.75,.75],[.75,-.75,.75,.75]]
        smoothlines = [[.65,-.1,.65,-.65]]
    elif char == '!':
        lines = [[0.,-.25,0.,.75],[0.,-.65,0.,-.75]]
        smoothlines = [[.1,-.65,.1,-.75],[.1,-.25,.1,.0]]
    elif char == '?':
        lines = [[-.65,.75,.75,.75],[-.65,.75,-.65,.5],[.75,.0,.75,.75],[.75,.0,-.25,.0],[-.25,.0,-.25,-.25],[-.25,-.65,-.25,-.75]]
        smoothlines = [[-.15,-.65,-.15,-.75],[-.15,-.25,-.15,-.1]]
    elif char == '.':
        lines = [[0.,-.55,0.,-.65]]
        smoothlines = [[.1,-.55,.1,-.65]]
    elif char == ',':
        lines = [[.1,-.55,.1,-.65]]
        smoothlines = [[.0,-.55,.0,-.65],[.15,-.65,.15,-.75]]
    elif char == ':':
        lines = [[0.,-.35,0.,-.45],[0.,.35,0.,.45]]
        smoothlines = [[.1,-.35,.1,-.45],[.1,.35,.1,.45]]
    elif char == '-':
        lines = [[-.5,0.,.5,0.]]
        smoothlines = [[-.4,-.1,.4,-.1]]
        
    return [ lines, smoothlines ]
        
# Length of glyph data in texture (for building index with offsets)
def pack_length(char):
    gly = glyph(char)
    lines = gly[0]
    smoothlines = gly[1]
    return 2 + len(lines)*4 + len(smoothlines)*4
